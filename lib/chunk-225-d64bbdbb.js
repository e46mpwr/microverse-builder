"use strict";(globalThis.webpackChunk_croquet_microverse=globalThis.webpackChunk_croquet_microverse||[]).push([[225],{1225:(t,a,e)=>{e.r(a),e.d(a,{default:()=>i});const i={modules:[{name:"CampusMap",pawnBehaviors:[class CampusMapPawn{setup(){let t=new Worldcore.THREE.Matrix4,a=new Worldcore.THREE.Matrix4,e=new Worldcore.THREE.Matrix4,i=new Worldcore.THREE.Matrix4;i.makeRotationY(.59294134694891),e.makeRotationX(Math.PI/2);a.makeScale(9/825,9/825,9/825),t.makeTranslation(9.42,-.65,-20.5),this.matrix=new Worldcore.THREE.Matrix4,this.matrix.multiply(t),this.matrix.multiply(a),this.matrix.multiply(e),this.matrix.multiply(i),console.log(this.matrix);let r=Worldcore.THREE;this.balls||(this.balls=[]),this.geometry||(this.geometry=new r.SphereGeometry(.02,16,8)),this.material||(this.material=new r.MeshStandardMaterial({color:16711680})),void 0===this.mapRunning&&(this.mapRunning=!0,this.updateMap())}updateMap(){if(this.mapRunning){this.future(250).updateMap();for(var t=this.actor.service("PlayerManager").players;this.balls.length<t.size;){var a=new Worldcore.THREE.Mesh(this.geometry,this.material);this.balls.push(a),this.shape.add(a)}for(;this.balls.length>t.size;){var e=this.balls.pop();this.shape.remove(e)}[...t].forEach((t,a)=>{let e=new Worldcore.THREE.Vector3(...t[1].translation);e.applyMatrix4(this.matrix),this.balls[a].position.set(...e.toArray())})}}}]}]}}}]);